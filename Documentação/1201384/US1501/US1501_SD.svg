<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="1000px" preserveAspectRatio="none" style="width:2119px;height:1000px;background:#FFFFFF;" version="1.1" viewBox="0 0 2119 1000" width="2119px" zoomAndPan="magnify"><defs/><g><rect fill="#FFFFFF" height="794.4531" style="stroke:#181818;stroke-width:1.0;" width="10" x="39.5" y="93.5938"/><rect fill="#FFFFFF" height="773.3203" style="stroke:#181818;stroke-width:1.0;" width="10" x="481.5" y="114.7266"/><rect fill="#FFFFFF" height="291.3281" style="stroke:#181818;stroke-width:1.0;" width="10" x="681.5" y="143.8594"/><rect fill="#FFFFFF" height="350.3281" style="stroke:#181818;stroke-width:1.0;" width="10" x="911.5" y="546.7188"/><rect fill="#FFFFFF" height="116.5313" style="stroke:#181818;stroke-width:1.0;" width="10" x="1413" y="202.125"/><rect fill="#FFFFFF" height="233.0625" style="stroke:#181818;stroke-width:1.0;" width="10" x="1608" y="172.9922"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="1608" y="575.8516"/><rect fill="#FFFFFF" height="87.3984" style="stroke:#181818;stroke-width:1.0;" width="10" x="1781" y="764.5156"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1991" y="663.25"/><rect height="409.7266" style="stroke:#000000;stroke-width:1.5;fill:none;" width="2103.5" x="10" y="450.1875"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="44" x2="44" y1="83.5938" y2="906.0469"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="486" x2="486" y1="83.5938" y2="906.0469"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="686" x2="686" y1="83.5938" y2="906.0469"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="916" x2="916" y1="83.5938" y2="906.0469"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="1283.5" x2="1283.5" y1="83.5938" y2="906.0469"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="1417.5" x2="1417.5" y1="83.5938" y2="906.0469"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="1612.5" x2="1612.5" y1="83.5938" y2="906.0469"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="1785.5" x2="1785.5" y1="83.5938" y2="906.0469"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="1995.5" x2="1995.5" y1="83.5938" y2="906.0469"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="43" x="20" y="80.292">Client</text><ellipse cx="44.5" cy="15.7969" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M44.5,23.7969 L44.5,50.7969 M31.5,31.7969 L57.5,31.7969 M44.5,50.7969 L31.5,65.7969 M44.5,50.7969 L57.5,65.7969 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="43" x="20" y="918.042">Client</text><ellipse cx="44.5" cy="929.8438" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M44.5,937.8438 L44.5,964.8438 M31.5,945.8438 L57.5,945.8438 M44.5,964.8438 L31.5,979.8438 M44.5,964.8438 L57.5,979.8438 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="211" x="381" y="36"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="138" x="417.5" y="55.9951">&lt;&lt;presentation&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="197" x="388" y="72.292">AddProductShoppingCartUI</text><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="211" x="381" y="905.0469"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="138" x="417.5" y="925.042">&lt;&lt;presentation&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="197" x="388" y="941.3389">AddProductShoppingCartUI</text><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="169" x="602" y="36"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="127" x="623" y="55.9951">&lt;&lt;application&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="155" x="609" y="72.292">ListProductController</text><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="169" x="602" y="905.0469"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="127" x="623" y="925.042">&lt;&lt;application&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="155" x="609" y="941.3389">ListProductController</text><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="271" x="781" y="36"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="127" x="853" y="55.9951">&lt;&lt;application&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="257" x="788" y="72.292">AddProductShoppingCartController</text><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="271" x="781" y="905.0469"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="127" x="853" y="925.042">&lt;&lt;application&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="257" x="788" y="941.3389">AddProductShoppingCartController</text><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="144" x="1211.5" y="36"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="127" x="1220" y="55.9951">&lt;&lt;application&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="130" x="1218.5" y="72.292">ShoppingCartLine</text><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="144" x="1211.5" y="905.0469"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="127" x="1220" y="925.042">&lt;&lt;application&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="130" x="1218.5" y="941.3389">ShoppingCartLine</text><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="105" x="1365.5" y="36"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="75" x="1380.5" y="55.9951">&lt;&lt;app&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="91" x="1372.5" y="72.292">AppSettings</text><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="105" x="1365.5" y="905.0469"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="75" x="1380.5" y="925.042">&lt;&lt;app&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="91" x="1372.5" y="941.3389">AppSettings</text><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="120" x="1550" y="63.9951">&lt;&lt;repository&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="135" x="1542.5" y="80.292">ProductRepository</text><path d="M1595,15 C1595,5 1613,5 1613,5 C1613,5 1631,5 1631,15 L1631,41 C1631,51 1613,51 1613,51 C1613,51 1595,51 1595,41 L1595,15 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M1595,15 C1595,25 1613,25 1613,25 C1613,25 1631,25 1631,15 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="120" x="1550" y="918.042">&lt;&lt;repository&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="135" x="1542.5" y="934.3389">ProductRepository</text><path d="M1595,947.6406 C1595,937.6406 1613,937.6406 1613,937.6406 C1613,937.6406 1631,937.6406 1631,947.6406 L1631,973.6406 C1631,983.6406 1613,983.6406 1613,983.6406 C1613,983.6406 1595,983.6406 1595,973.6406 L1595,947.6406 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M1595,947.6406 C1595,957.6406 1613,957.6406 1613,957.6406 C1613,957.6406 1631,957.6406 1631,947.6406 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="120" x="1723" y="63.9951">&lt;&lt;repository&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="179" x="1693.5" y="80.292">ShoppingCartRepository</text><path d="M1768,15 C1768,5 1786,5 1786,5 C1786,5 1804,5 1804,15 L1804,41 C1804,51 1786,51 1786,51 C1786,51 1768,51 1768,41 L1768,15 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M1768,15 C1768,25 1786,25 1786,25 C1786,25 1804,25 1804,15 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="120" x="1723" y="918.042">&lt;&lt;repository&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="179" x="1693.5" y="934.3389">ShoppingCartRepository</text><path d="M1768,947.6406 C1768,937.6406 1786,937.6406 1786,937.6406 C1786,937.6406 1804,937.6406 1804,947.6406 L1804,973.6406 C1804,983.6406 1786,983.6406 1786,983.6406 C1786,983.6406 1768,983.6406 1768,973.6406 L1768,947.6406 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M1768,947.6406 C1768,957.6406 1786,957.6406 1786,957.6406 C1786,957.6406 1804,957.6406 1804,947.6406 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="120" x="1933" y="63.9951">&lt;&lt;repository&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="209" x="1888.5" y="80.292">ShoppingCartLineRepository</text><path d="M1978,15 C1978,5 1996,5 1996,5 C1996,5 2014,5 2014,15 L2014,41 C2014,51 1996,51 1996,51 C1996,51 1978,51 1978,41 L1978,15 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M1978,15 C1978,25 1996,25 1996,25 C1996,25 2014,25 2014,15 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="120" x="1933" y="918.042">&lt;&lt;repository&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="209" x="1888.5" y="934.3389">ShoppingCartLineRepository</text><path d="M1978,947.6406 C1978,937.6406 1996,937.6406 1996,937.6406 C1996,937.6406 2014,937.6406 2014,947.6406 L2014,973.6406 C2014,983.6406 1996,983.6406 1996,983.6406 C1996,983.6406 1978,983.6406 1978,973.6406 L1978,947.6406 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M1978,947.6406 C1978,957.6406 1996,957.6406 1996,957.6406 C1996,957.6406 2014,957.6406 2014,947.6406 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><rect fill="#FFFFFF" height="794.4531" style="stroke:#181818;stroke-width:1.0;" width="10" x="39.5" y="93.5938"/><rect fill="#FFFFFF" height="773.3203" style="stroke:#181818;stroke-width:1.0;" width="10" x="481.5" y="114.7266"/><rect fill="#FFFFFF" height="291.3281" style="stroke:#181818;stroke-width:1.0;" width="10" x="681.5" y="143.8594"/><rect fill="#FFFFFF" height="350.3281" style="stroke:#181818;stroke-width:1.0;" width="10" x="911.5" y="546.7188"/><rect fill="#FFFFFF" height="116.5313" style="stroke:#181818;stroke-width:1.0;" width="10" x="1413" y="202.125"/><rect fill="#FFFFFF" height="233.0625" style="stroke:#181818;stroke-width:1.0;" width="10" x="1608" y="172.9922"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="1608" y="575.8516"/><rect fill="#FFFFFF" height="87.3984" style="stroke:#181818;stroke-width:1.0;" width="10" x="1781" y="764.5156"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1991" y="663.25"/><polygon fill="#181818" points="469.5,110.7266,479.5,114.7266,469.5,118.7266,473.5,114.7266" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="49.5" x2="475.5" y1="114.7266" y2="114.7266"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="56.5" y="109.6606">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="221" x="69.5" y="109.6606">view/search in the product catalog</text><polygon fill="#181818" points="669.5,139.8594,679.5,143.8594,669.5,147.8594,673.5,143.8594" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="491.5" x2="675.5" y1="143.8594" y2="143.8594"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="498.5" y="138.7935">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="80" x="511.5" y="138.7935">allProducts()</text><polygon fill="#181818" points="1596,168.9922,1606,172.9922,1596,176.9922,1600,172.9922" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="691.5" x2="1602" y1="172.9922" y2="172.9922"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="8" x="698.5" y="167.9263">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="85" x="710.5" y="167.9263">repositories()</text><polygon fill="#181818" points="1434,198.125,1424,202.125,1434,206.125,1430,202.125" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1428" x2="1607" y1="202.125" y2="202.125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="1440" y="197.0591">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="64" x="1453" y="197.0591">instance()</text><polygon fill="#181818" points="1434,227.2578,1424,231.2578,1434,235.2578,1430,231.2578" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1428" x2="1607" y1="231.2578" y2="231.2578"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="1440" y="226.1919">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="148" x="1453" y="226.1919">getRepositoryFactory()</text><polygon fill="#181818" points="1596,256.3906,1606,260.3906,1596,264.3906,1600,260.3906" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1423" x2="1602" y1="260.3906" y2="260.3906"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="1430" y="255.3247">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="41" x="1443" y="255.3247">create</text><polygon fill="#181818" points="1434,285.5234,1424,289.5234,1434,293.5234,1430,289.5234" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1428" x2="1607" y1="289.5234" y2="289.5234"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="1440" y="284.4575">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="1453" y="284.4575"> </text><polygon fill="#181818" points="702.5,314.6563,692.5,318.6563,702.5,322.6563,698.5,318.6563" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="696.5" x2="1417" y1="318.6563" y2="318.6563"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="708.5" y="313.5903">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="721.5" y="313.5903"> </text><polygon fill="#181818" points="1596,343.7891,1606,347.7891,1596,351.7891,1600,347.7891" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="691.5" x2="1602" y1="347.7891" y2="347.7891"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="698.5" y="342.7231">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="66" x="711.5" y="342.7231">Products()</text><polygon fill="#181818" points="1596,372.9219,1606,376.9219,1596,380.9219,1600,376.9219" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="691.5" x2="1602" y1="376.9219" y2="376.9219"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="698.5" y="371.856">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="60" x="721.5" y="371.856">list = all()</text><polygon fill="#181818" points="702.5,402.0547,692.5,406.0547,702.5,410.0547,698.5,406.0547" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="696.5" x2="1612" y1="406.0547" y2="406.0547"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="708.5" y="400.9888">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="730.5" y="400.9888"> </text><polygon fill="#181818" points="502.5,431.1875,492.5,435.1875,502.5,439.1875,498.5,435.1875" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="496.5" x2="685.5" y1="435.1875" y2="435.1875"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="508.5" y="430.1216">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="18" x="530.5" y="430.1216">list</text><path d="M10,450.1875 L88,450.1875 L88,457.3203 L78,467.3203 L10,467.3203 L10,450.1875 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="409.7266" style="stroke:#000000;stroke-width:1.5;" width="2103.5" x="10" y="450.1875"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="33" x="25" y="463.2544">loop</text><polygon fill="#181818" points="60.5,484.4531,50.5,488.4531,60.5,492.4531,56.5,488.4531" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="54.5" x2="480.5" y1="488.4531" y2="488.4531"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17" x="66.5" y="483.3872">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="387" x="87.5" y="483.3872">asks if the client wants to add a product to his shopping cart</text><polygon fill="#181818" points="469.5,513.5859,479.5,517.5859,469.5,521.5859,473.5,517.5859" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="49.5" x2="475.5" y1="517.5859" y2="517.5859"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="56.5" y="512.52">14</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="156" x="78.5" y="512.52">type the requested data</text><polygon fill="#181818" points="899.5,542.7188,909.5,546.7188,899.5,550.7188,903.5,546.7188" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="491.5" x2="905.5" y1="546.7188" y2="546.7188"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="498.5" y="541.6528">15</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="345" x="520.5" y="541.6528">addProductShoppingCart(productReference, quantity)</text><polygon fill="#181818" points="1596,571.8516,1606,575.8516,1596,579.8516,1600,575.8516" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="921.5" x2="1602" y1="575.8516" y2="575.8516"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="928.5" y="570.7856">16</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="231" x="950.5" y="570.7856">findByReference(productReference)</text><polygon fill="#181818" points="932.5,600.9844,922.5,604.9844,932.5,608.9844,928.5,604.9844" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="926.5" x2="1612" y1="604.9844" y2="604.9844"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="938.5" y="599.9185">17</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="49" x="960.5" y="599.9185">product</text><polygon fill="#181818" points="1271.5,630.1172,1281.5,634.1172,1271.5,638.1172,1275.5,634.1172" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="921.5" x2="1277.5" y1="634.1172" y2="634.1172"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="928.5" y="629.0513">18</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="316" x="950.5" y="629.0513">newShoppingCartLine(product, q, product.Price())</text><polygon fill="#181818" points="1979,659.25,1989,663.25,1979,667.25,1983,663.25" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="921.5" x2="1985" y1="663.25" y2="663.25"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="928.5" y="658.1841">19</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="180" x="950.5" y="658.1841">save(newShoppingCartLine)</text><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="921.5" x2="963.5" y1="722.3828" y2="722.3828"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="963.5" x2="963.5" y1="722.3828" y2="735.3828"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="922.5" x2="963.5" y1="735.3828" y2="735.3828"/><polygon fill="#181818" points="932.5,731.3828,922.5,735.3828,932.5,739.3828,928.5,735.3828" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="928.5" y="717.3169">20</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="146" x="951.5" y="717.3169">getShoppingCartUser()</text><polygon fill="#181818" points="1769,760.5156,1779,764.5156,1769,768.5156,1773,764.5156" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="921.5" x2="1775" y1="764.5156" y2="764.5156"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="928.5" y="759.4497">21</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="135" x="950.5" y="759.4497">findByVat(cvat.vat())</text><polygon fill="#181818" points="932.5,789.6484,922.5,793.6484,932.5,797.6484,928.5,793.6484" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="926.5" x2="1780" y1="793.6484" y2="793.6484"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="938.5" y="788.5825">22</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="21" x="960.5" y="788.5825">vat</text><polygon fill="#181818" points="1769,818.7813,1779,822.7813,1769,826.7813,1773,822.7813" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="921.5" x2="1775" y1="822.7813" y2="822.7813"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17" x="928.5" y="817.7153">23</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="126" x="949.5" y="817.7153">save(shoppingCart)</text><polygon fill="#181818" points="932.5,847.9141,922.5,851.9141,932.5,855.9141,928.5,851.9141" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="926.5" x2="1785" y1="851.9141" y2="851.9141"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="938.5" y="846.8481">24</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="960.5" y="846.8481"> </text><polygon fill="#181818" points="55.5,884.0469,45.5,888.0469,55.5,892.0469,51.5,888.0469" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="49.5" x2="485.5" y1="888.0469" y2="888.0469"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="61.5" y="882.981">25</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="169" x="83.5" y="882.981">informs operation success</text><!--MD5=[6df09a4a810a569b69f1fe3a77b1ea01]
@startuml
autonumber
actor "Client" as SC
participant "//<<presentation>>//\nAddProductShoppingCartUI" as UI
participant "//<<application>>//\nListProductController" as cc1
participant "//<<application>>//\nAddProductShoppingCartController" as cc2
participant "//<<application>>//\nShoppingCartLine" as scl
participant "//<<app>>//\nAppSettings" as app
database "//<<repository>>//\nProductRepository" as db
database "//<<repository>>//\nShoppingCartRepository" as db2
database "//<<repository>>//\nShoppingCartLineRepository" as db3

activate SC
SC -> UI : view/search in the product catalog
activate UI



UI- ->cc1: allProducts()

activate cc1

cc1- ->db: repositories()

activate db

db- ->app: instance()

activate app

db- ->app: getRepositoryFactory()

app- ->db: create

db- ->app

app- ->cc1

deactivate app

cc1- ->db: Products()

cc1- ->db: list = all()

db- ->cc1

deactivate db

cc1- ->UI: list

deactivate cc1




loop
UI - -> SC : asks if the client wants to add a product to his shopping cart

SC -> UI : type the requested data


UI- -> cc2: addProductShoppingCart(productReference, quantity)

activate cc2

cc2- -> db: findByReference(productReference)

activate db

db- ->cc2: product

deactivate db

cc2- -> scl: newShoppingCartLine(product, q, product.Price())

cc2 - -> db3: save(newShoppingCartLine)

activate db3

deactivate db3

cc2 - -> cc2: getShoppingCartUser()

cc2 - -> db2: findByVat(cvat.vat())

activate db2

db2 - -> cc2: vat

cc2 - -> db2: save(shoppingCart)

db2 - -> cc2

deactivate db2






end
UI - -> SC : informs operation success
deactivate UI

deactivate SC
@enduml

PlantUML version 1.2022.6beta2(Unknown compile time)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>