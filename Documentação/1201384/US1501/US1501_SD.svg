<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="1549px" preserveAspectRatio="none" style="width:3420px;height:1549px;background:#FFFFFF;" version="1.1" viewBox="0 0 3420 1549" width="3420px" zoomAndPan="magnify"><defs/><g><rect fill="#FFFFFF" height="1337.7656" style="stroke:#181818;stroke-width:1.0;" width="10" x="36" y="96.2188"/><rect fill="#FFFFFF" height="1254.7109" style="stroke:#181818;stroke-width:1.0;" width="10" x="437" y="179.2734"/><rect fill="#FFFFFF" height="303.5156" style="stroke:#181818;stroke-width:1.0;" width="10" x="784" y="209.625"/><rect fill="#FFFFFF" height="782.0859" style="stroke:#181818;stroke-width:1.0;" width="10" x="986" y="629.5469"/><rect fill="#FFFFFF" height="706.3828" style="stroke:#181818;stroke-width:1.0;" width="10" x="1233" y="659.8984"/><rect fill="#FFFFFF" height="615.0313" style="stroke:#181818;stroke-width:1.0;" width="10" x="1448" y="148.9219"/><rect fill="#FFFFFF" height="121.4063" style="stroke:#181818;stroke-width:1.0;" width="10" x="1589.5" y="270.3281"/><rect fill="#FFFFFF" height="571.9766" style="stroke:#181818;stroke-width:1.0;" width="10" x="1722.5" y="763.9531"/><rect fill="#FFFFFF" height="511.2734" style="stroke:#181818;stroke-width:1.0;" width="10" x="1916.5" y="794.3047"/><rect fill="#FFFFFF" height="450.5703" style="stroke:#181818;stroke-width:1.0;" width="10" x="2120" y="824.6563"/><rect fill="#FFFFFF" height="316.1641" style="stroke:#181818;stroke-width:1.0;" width="10" x="2311" y="855.0078"/><rect fill="#FFFFFF" height="285.8125" style="stroke:#181818;stroke-width:1.0;" width="10" x="2502" y="885.3594"/><rect fill="#FFFFFF" height="242.8125" style="stroke:#181818;stroke-width:1.0;" width="10" x="2968.5" y="239.9766"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="2968.5" y="915.7109"/><rect fill="#FFFFFF" height="60.7031" style="stroke:#181818;stroke-width:1.0;" width="10" x="3120.5" y="1110.4688"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="3305" y="1006.7656"/><rect height="876.4922" style="stroke:#000000;stroke-width:1.5;fill:none;" width="3404" x="10" y="528.1406"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="41" x2="41" y1="86.2188" y2="1451.9844"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="441.5" x2="441.5" y1="86.2188" y2="1451.9844"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="625.5" x2="625.5" y1="86.2188" y2="1451.9844"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="788.5" x2="788.5" y1="86.2188" y2="1451.9844"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="990.5" x2="990.5" y1="86.2188" y2="1451.9844"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="1237.5" x2="1237.5" y1="86.2188" y2="1451.9844"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="1452.5" x2="1452.5" y1="86.2188" y2="1451.9844"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="1594.5" x2="1594.5" y1="86.2188" y2="1451.9844"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="1727.5" x2="1727.5" y1="86.2188" y2="1451.9844"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="1921.5" x2="1921.5" y1="86.2188" y2="1451.9844"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="2124.5" x2="2124.5" y1="86.2188" y2="1451.9844"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="2315.5" x2="2315.5" y1="86.2188" y2="1451.9844"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="2507" x2="2507" y1="86.2188" y2="1451.9844"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="2838" x2="2838" y1="86.2188" y2="1451.9844"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="2973" x2="2973" y1="86.2188" y2="1451.9844"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="3125" x2="3125" y1="86.2188" y2="1451.9844"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="3310" x2="3310" y1="86.2188" y2="1451.9844"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="36" x="20" y="83.1426">Client</text><ellipse cx="41" cy="17.1094" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M41,25.1094 L41,52.1094 M28,33.1094 L54,33.1094 M41,52.1094 L28,67.1094 M41,52.1094 L54,67.1094 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="36" x="20" y="1465.5176">Client</text><ellipse cx="41" cy="1477.0938" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M41,1485.0938 L41,1512.0938 M28,1493.0938 L54,1493.0938 M41,1512.0938 L28,1527.0938 M41,1512.0938 L54,1527.0938 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><rect fill="#E2E2F0" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="187" x="348.5" y="36"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="111" x="386.5" y="57.5332">&lt;&lt;presentation&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="173" x="355.5" y="75.1426">AddProductShoppingCartUI</text><rect fill="#E2E2F0" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="187" x="348.5" y="1450.9844"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="111" x="386.5" y="1472.5176">&lt;&lt;presentation&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="173" x="355.5" y="1490.127">AddProductShoppingCartUI</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="160" x="545.5" y="53.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="146" x="552.5" y="75.1426">OrderManagerDaemon</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="160" x="545.5" y="1450.9844"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="146" x="552.5" y="1472.5176">OrderManagerDaemon</text><rect fill="#E2E2F0" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="147" x="715.5" y="36"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="100" x="739" y="57.5332">&lt;&lt;application&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="133" x="722.5" y="75.1426">ListProductController</text><rect fill="#E2E2F0" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="147" x="715.5" y="1450.9844"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="100" x="739" y="1472.5176">&lt;&lt;application&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="133" x="722.5" y="1490.127">ListProductController</text><rect fill="#E2E2F0" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="237" x="872.5" y="36"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="100" x="941" y="57.5332">&lt;&lt;application&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="223" x="879.5" y="75.1426">AddProductShoppingCartController</text><rect fill="#E2E2F0" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="237" x="872.5" y="1450.9844"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="100" x="941" y="1472.5176">&lt;&lt;application&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="223" x="879.5" y="1490.127">AddProductShoppingCartController</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="237" x="1119.5" y="53.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="223" x="1126.5" y="75.1426">AddProductShoppingCartController</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="237" x="1119.5" y="1450.9844"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="223" x="1126.5" y="1472.5176">AddProductShoppingCartController</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="173" x="1366.5" y="53.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="159" x="1373.5" y="75.1426">OrderManagerTcpServer</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="173" x="1366.5" y="1450.9844"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="159" x="1373.5" y="1472.5176">OrderManagerTcpServer</text><rect fill="#E2E2F0" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="90" x="1549.5" y="36"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="56" x="1566.5" y="57.5332">&lt;&lt;app&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="76" x="1556.5" y="75.1426">AppSettings</text><rect fill="#E2E2F0" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="90" x="1549.5" y="1450.9844"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="56" x="1566.5" y="1472.5176">&lt;&lt;app&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="76" x="1556.5" y="1490.127">AppSettings</text><rect fill="#E2E2F0" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="156" x="1649.5" y="36"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="73" x="1691" y="57.5332">&lt;&lt;thread&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="142" x="1656.5" y="75.1426">OrderManagerHandler</text><rect fill="#E2E2F0" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="156" x="1649.5" y="1450.9844"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="73" x="1691" y="1472.5176">&lt;&lt;thread&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="142" x="1656.5" y="1490.127">OrderManagerHandler</text><rect fill="#E2E2F0" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="212" x="1815.5" y="36"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="83" x="1880" y="57.5332">&lt;&lt;abstract&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="198" x="1822.5" y="75.1426">OrderManagerProtocolRequest</text><rect fill="#E2E2F0" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="212" x="1815.5" y="1450.9844"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="83" x="1880" y="1472.5176">&lt;&lt;abstract&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="198" x="1822.5" y="1490.127">OrderManagerProtocolRequest</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="175" x="2037.5" y="53.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="161" x="2044.5" y="75.1426">AddProductShoppingCart</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="175" x="2037.5" y="1450.9844"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="161" x="2044.5" y="1472.5176">AddProductShoppingCart</text><rect fill="#E2E2F0" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="163" x="2234.5" y="36"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="88" x="2272" y="57.5332">&lt;&lt;Interface&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="149" x="2241.5" y="75.1426">ShoppingCartController</text><rect fill="#E2E2F0" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="163" x="2234.5" y="1450.9844"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="88" x="2272" y="1472.5176">&lt;&lt;Interface&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="149" x="2241.5" y="1490.127">ShoppingCartController</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="188" x="2413" y="53.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="174" x="2420" y="75.1426">ShoppingCartControllerImpl</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="188" x="2413" y="1450.9844"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="174" x="2420" y="1472.5176">ShoppingCartControllerImpl</text><rect fill="#E2E2F0" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="128" x="2774" y="36"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="100" x="2788" y="57.5332">&lt;&lt;application&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="114" x="2781" y="75.1426">ShoppingCartLine</text><rect fill="#E2E2F0" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="128" x="2774" y="1450.9844"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="100" x="2788" y="1472.5176">&lt;&lt;application&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="114" x="2781" y="1490.127">ShoppingCartLine</text><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="95" x="2923" y="65.5332">&lt;&lt;repository&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="117" x="2912" y="83.1426">ProductRepository</text><path d="M2955.5,15 C2955.5,5 2973.5,5 2973.5,5 C2973.5,5 2991.5,5 2991.5,15 L2991.5,41 C2991.5,51 2973.5,51 2973.5,51 C2973.5,51 2955.5,51 2955.5,41 L2955.5,15 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M2955.5,15 C2955.5,25 2973.5,25 2973.5,25 C2973.5,25 2991.5,25 2991.5,15 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="95" x="2923" y="1465.5176">&lt;&lt;repository&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="117" x="2912" y="1483.127">ProductRepository</text><path d="M2955.5,1496.2031 C2955.5,1486.2031 2973.5,1486.2031 2973.5,1486.2031 C2973.5,1486.2031 2991.5,1486.2031 2991.5,1496.2031 L2991.5,1522.2031 C2991.5,1532.2031 2973.5,1532.2031 2973.5,1532.2031 C2973.5,1532.2031 2955.5,1532.2031 2955.5,1522.2031 L2955.5,1496.2031 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M2955.5,1496.2031 C2955.5,1506.2031 2973.5,1506.2031 2973.5,1506.2031 C2973.5,1506.2031 2991.5,1506.2031 2991.5,1496.2031 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="95" x="3075" y="65.5332">&lt;&lt;repository&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="155" x="3045" y="83.1426">ShoppingCartRepository</text><path d="M3107.5,15 C3107.5,5 3125.5,5 3125.5,5 C3125.5,5 3143.5,5 3143.5,15 L3143.5,41 C3143.5,51 3125.5,51 3125.5,51 C3125.5,51 3107.5,51 3107.5,41 L3107.5,15 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M3107.5,15 C3107.5,25 3125.5,25 3125.5,25 C3125.5,25 3143.5,25 3143.5,15 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="95" x="3075" y="1465.5176">&lt;&lt;repository&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="155" x="3045" y="1483.127">ShoppingCartRepository</text><path d="M3107.5,1496.2031 C3107.5,1486.2031 3125.5,1486.2031 3125.5,1486.2031 C3125.5,1486.2031 3143.5,1486.2031 3143.5,1496.2031 L3143.5,1522.2031 C3143.5,1532.2031 3125.5,1532.2031 3125.5,1532.2031 C3125.5,1532.2031 3107.5,1532.2031 3107.5,1522.2031 L3107.5,1496.2031 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M3107.5,1496.2031 C3107.5,1506.2031 3125.5,1506.2031 3125.5,1506.2031 C3125.5,1506.2031 3143.5,1506.2031 3143.5,1496.2031 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="95" x="3259.5" y="65.5332">&lt;&lt;repository&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="182" x="3216" y="83.1426">ShoppingCartLineRepository</text><path d="M3292,15 C3292,5 3310,5 3310,5 C3310,5 3328,5 3328,15 L3328,41 C3328,51 3310,51 3310,51 C3310,51 3292,51 3292,41 L3292,15 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M3292,15 C3292,25 3310,25 3310,25 C3310,25 3328,25 3328,15 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="95" x="3259.5" y="1465.5176">&lt;&lt;repository&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="182" x="3216" y="1483.127">ShoppingCartLineRepository</text><path d="M3292,1496.2031 C3292,1486.2031 3310,1486.2031 3310,1486.2031 C3310,1486.2031 3328,1486.2031 3328,1496.2031 L3328,1522.2031 C3328,1532.2031 3310,1532.2031 3310,1532.2031 C3310,1532.2031 3292,1532.2031 3292,1522.2031 L3292,1496.2031 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M3292,1496.2031 C3292,1506.2031 3310,1506.2031 3310,1506.2031 C3310,1506.2031 3328,1506.2031 3328,1496.2031 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><rect fill="#FFFFFF" height="1337.7656" style="stroke:#181818;stroke-width:1.0;" width="10" x="36" y="96.2188"/><rect fill="#FFFFFF" height="1254.7109" style="stroke:#181818;stroke-width:1.0;" width="10" x="437" y="179.2734"/><rect fill="#FFFFFF" height="303.5156" style="stroke:#181818;stroke-width:1.0;" width="10" x="784" y="209.625"/><rect fill="#FFFFFF" height="782.0859" style="stroke:#181818;stroke-width:1.0;" width="10" x="986" y="629.5469"/><rect fill="#FFFFFF" height="706.3828" style="stroke:#181818;stroke-width:1.0;" width="10" x="1233" y="659.8984"/><rect fill="#FFFFFF" height="615.0313" style="stroke:#181818;stroke-width:1.0;" width="10" x="1448" y="148.9219"/><rect fill="#FFFFFF" height="121.4063" style="stroke:#181818;stroke-width:1.0;" width="10" x="1589.5" y="270.3281"/><rect fill="#FFFFFF" height="571.9766" style="stroke:#181818;stroke-width:1.0;" width="10" x="1722.5" y="763.9531"/><rect fill="#FFFFFF" height="511.2734" style="stroke:#181818;stroke-width:1.0;" width="10" x="1916.5" y="794.3047"/><rect fill="#FFFFFF" height="450.5703" style="stroke:#181818;stroke-width:1.0;" width="10" x="2120" y="824.6563"/><rect fill="#FFFFFF" height="316.1641" style="stroke:#181818;stroke-width:1.0;" width="10" x="2311" y="855.0078"/><rect fill="#FFFFFF" height="285.8125" style="stroke:#181818;stroke-width:1.0;" width="10" x="2502" y="885.3594"/><rect fill="#FFFFFF" height="242.8125" style="stroke:#181818;stroke-width:1.0;" width="10" x="2968.5" y="239.9766"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="2968.5" y="915.7109"/><rect fill="#FFFFFF" height="60.7031" style="stroke:#181818;stroke-width:1.0;" width="10" x="3120.5" y="1110.4688"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="3305" y="1006.7656"/><polygon fill="#181818" points="1441,114.5703,1451,118.5703,1441,122.5703,1445,118.5703" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="625.5" x2="1447" y1="118.5703" y2="118.5703"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="632.5" y="113.7139">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="23" x="643.5" y="113.7139">new</text><polygon fill="#181818" points="1436,144.9219,1446,148.9219,1436,152.9219,1440,148.9219" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="625.5" x2="1442" y1="148.9219" y2="148.9219"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="632.5" y="144.0654">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="26" x="643.5" y="144.0654">start</text><polygon fill="#181818" points="425,175.2734,435,179.2734,425,183.2734,429,179.2734" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="46" x2="431" y1="179.2734" y2="179.2734"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="53" y="174.417">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="196" x="64" y="174.417">view/search in the product catalog</text><polygon fill="#181818" points="772,205.625,782,209.625,772,213.625,776,209.625" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="447" x2="778" y1="209.625" y2="209.625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="454" y="204.7686">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="73" x="465" y="204.7686">allProducts()</text><polygon fill="#181818" points="2956.5,235.9766,2966.5,239.9766,2956.5,243.9766,2960.5,239.9766" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="794" x2="2962.5" y1="239.9766" y2="239.9766"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="801" y="235.1201">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="75" x="812" y="235.1201">repositories()</text><polygon fill="#181818" points="1610.5,266.3281,1600.5,270.3281,1610.5,274.3281,1606.5,270.3281" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1604.5" x2="2967.5" y1="270.3281" y2="270.3281"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="1616.5" y="265.4717">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="57" x="1627.5" y="265.4717">instance()</text><polygon fill="#181818" points="1610.5,296.6797,1600.5,300.6797,1610.5,304.6797,1606.5,300.6797" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1604.5" x2="2967.5" y1="300.6797" y2="300.6797"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="1616.5" y="295.8232">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132" x="1627.5" y="295.8232">getRepositoryFactory()</text><polygon fill="#181818" points="2956.5,327.0313,2966.5,331.0313,2956.5,335.0313,2960.5,331.0313" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1599.5" x2="2962.5" y1="331.0313" y2="331.0313"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="1606.5" y="326.1748">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="36" x="1617.5" y="326.1748">create</text><polygon fill="#181818" points="1610.5,357.3828,1600.5,361.3828,1610.5,365.3828,1606.5,361.3828" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1604.5" x2="2967.5" y1="361.3828" y2="361.3828"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="1616.5" y="356.5264">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="1627.5" y="356.5264"> </text><polygon fill="#181818" points="805,387.7344,795,391.7344,805,395.7344,801,391.7344" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="799" x2="1593.5" y1="391.7344" y2="391.7344"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="811" y="386.8779">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="829" y="386.8779"> </text><polygon fill="#181818" points="2956.5,418.0859,2966.5,422.0859,2956.5,426.0859,2960.5,422.0859" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="794" x2="2962.5" y1="422.0859" y2="422.0859"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="801" y="417.2295">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="60" x="819" y="417.2295">Products()</text><polygon fill="#181818" points="2956.5,448.4375,2966.5,452.4375,2956.5,456.4375,2960.5,452.4375" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="794" x2="2962.5" y1="452.4375" y2="452.4375"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="801" y="447.5811">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="54" x="819" y="447.5811">list = all()</text><polygon fill="#181818" points="805,478.7891,795,482.7891,805,486.7891,801,482.7891" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="799" x2="2972.5" y1="482.7891" y2="482.7891"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="811" y="477.9326">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="829" y="477.9326"> </text><polygon fill="#181818" points="458,509.1406,448,513.1406,458,517.1406,454,513.1406" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="452" x2="788" y1="513.1406" y2="513.1406"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="464" y="508.2842">14</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="17" x="482" y="508.2842">list</text><path d="M10,528.1406 L83,528.1406 L83,536.4922 L73,546.4922 L10,546.4922 L10,528.1406 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="876.4922" style="stroke:#000000;stroke-width:1.5;" width="3404" x="10" y="528.1406"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="28" x="25" y="542.6357">loop</text><polygon fill="#181818" points="57,564.8438,47,568.8438,57,572.8438,53,568.8438" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="51" x2="436" y1="568.8438" y2="568.8438"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="63" y="563.9873">15</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="349" x="81" y="563.9873">asks if the client wants to add a product to his shopping cart</text><polygon fill="#181818" points="425,595.1953,435,599.1953,425,603.1953,429,599.1953" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="46" x2="431" y1="599.1953" y2="599.1953"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="53" y="594.3389">16</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="137" x="71" y="594.3389">type the requested data</text><polygon fill="#181818" points="974,625.5469,984,629.5469,974,633.5469,978,629.5469" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="447" x2="980" y1="629.5469" y2="629.5469"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="454" y="624.6904">17</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="307" x="472" y="624.6904">addProductShoppingCart(productReference, quantity)</text><polygon fill="#181818" points="1221,655.8984,1231,659.8984,1221,663.8984,1225,659.8984" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="996" x2="1227" y1="659.8984" y2="659.8984"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1003" y="655.042">18</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="186" x="1021" y="655.042">addProductShoppingCartService</text><line style="stroke:#181818;stroke-width:1.0;" x1="1458" x2="1500" y1="690.25" y2="690.25"/><line style="stroke:#181818;stroke-width:1.0;" x1="1500" x2="1500" y1="690.25" y2="703.25"/><line style="stroke:#181818;stroke-width:1.0;" x1="1459" x2="1500" y1="703.25" y2="703.25"/><polygon fill="#181818" points="1469,699.25,1459,703.25,1469,707.25,1465,703.25" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1465" y="685.3936">19</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="39" x="1483" y="685.3936">accept</text><polygon fill="#181818" points="1436,729.6016,1446,733.6016,1436,737.6016,1440,733.6016" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1243" x2="1442" y1="733.6016" y2="733.6016"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1250" y="728.7451">20</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="43" x="1268" y="728.7451">request</text><polygon fill="#181818" points="1710.5,759.9531,1720.5,763.9531,1710.5,767.9531,1714.5,763.9531" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1453" x2="1716.5" y1="763.9531" y2="763.9531"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1460" y="759.0967">21</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="26" x="1478" y="759.0967">start</text><polygon fill="#181818" points="1904.5,790.3047,1914.5,794.3047,1904.5,798.3047,1908.5,794.3047" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1732.5" x2="1910.5" y1="794.3047" y2="794.3047"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1739.5" y="789.4482">22</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="46" x="1757.5" y="789.4482">execute</text><polygon fill="#181818" points="2108,820.6563,2118,824.6563,2108,828.6563,2112,824.6563" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1926.5" x2="2114" y1="824.6563" y2="824.6563"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1933.5" y="819.7998">23</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="46" x="1951.5" y="819.7998">execute</text><polygon fill="#181818" points="2299,851.0078,2309,855.0078,2299,859.0078,2303,855.0078" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="2130" x2="2305" y1="855.0078" y2="855.0078"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="2137" y="850.1514">24</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="144" x="2155" y="850.1514">addProductShoppingCart</text><polygon fill="#181818" points="2490,881.3594,2500,885.3594,2490,889.3594,2494,885.3594" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="2321" x2="2496" y1="885.3594" y2="885.3594"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="2328" y="880.5029">25</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="144" x="2346" y="880.5029">addProductShoppingCart</text><polygon fill="#181818" points="2956.5,911.7109,2966.5,915.7109,2956.5,919.7109,2960.5,915.7109" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2512" x2="2962.5" y1="915.7109" y2="915.7109"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="2519" y="910.8545">26</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="203" x="2537" y="910.8545">findByReference(productReference)</text><polygon fill="#181818" points="2523,942.0625,2513,946.0625,2523,950.0625,2519,946.0625" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2517" x2="2972.5" y1="946.0625" y2="946.0625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="2529" y="941.2061">27</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="43" x="2547" y="941.2061">product</text><polygon fill="#181818" points="2826,972.4141,2836,976.4141,2826,980.4141,2830,976.4141" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2512" x2="2832" y1="976.4141" y2="976.4141"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="2519" y="971.5576">28</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="284" x="2537" y="971.5576">newShoppingCartLine(product, q, product.Price())</text><polygon fill="#181818" points="3293,1002.7656,3303,1006.7656,3293,1010.7656,3297,1006.7656" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2512" x2="3299" y1="1006.7656" y2="1006.7656"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="2519" y="1001.9092">29</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="159" x="2537" y="1001.9092">save(newShoppingCartLine)</text><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2512" x2="2554" y1="1067.1172" y2="1067.1172"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2554" x2="2554" y1="1067.1172" y2="1080.1172"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2513" x2="2554" y1="1080.1172" y2="1080.1172"/><polygon fill="#181818" points="2523,1076.1172,2513,1080.1172,2523,1084.1172,2519,1080.1172" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="2519" y="1062.2607">30</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="131" x="2537" y="1062.2607">getShoppingCartUser()</text><polygon fill="#181818" points="3108.5,1106.4688,3118.5,1110.4688,3108.5,1114.4688,3112.5,1110.4688" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2512" x2="3114.5" y1="1110.4688" y2="1110.4688"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="2519" y="1105.6123">31</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="115" x="2537" y="1105.6123">findByVat(cvat.vat())</text><polygon fill="#181818" points="2523,1136.8203,2513,1140.8203,2523,1144.8203,2519,1140.8203" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2517" x2="3119.5" y1="1140.8203" y2="1140.8203"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="2529" y="1135.9639">32</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="16" x="2547" y="1135.9639">vat</text><polygon fill="#181818" points="3113.5,1167.1719,3123.5,1171.1719,3113.5,1175.1719,3117.5,1171.1719" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2507" x2="3119.5" y1="1171.1719" y2="1171.1719"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="2514" y="1166.3154">33</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="110" x="2532" y="1166.3154">save(shoppingCart)</text><polygon fill="#181818" points="2108,1197.5234,2118,1201.5234,2108,1205.5234,2112,1201.5234" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1926.5" x2="2114" y1="1201.5234" y2="1201.5234"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1933.5" y="1196.667">34</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="85" x="1951.5" y="1196.667">buildResponse</text><line style="stroke:#181818;stroke-width:1.0;" x1="2130" x2="2172" y1="1231.875" y2="1231.875"/><line style="stroke:#181818;stroke-width:1.0;" x1="2172" x2="2172" y1="1231.875" y2="1244.875"/><line style="stroke:#181818;stroke-width:1.0;" x1="2131" x2="2172" y1="1244.875" y2="1244.875"/><polygon fill="#181818" points="2141,1240.875,2131,1244.875,2141,1248.875,2137,1244.875" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="2137" y="1227.0186">35</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="85" x="2155" y="1227.0186">buildResponse</text><polygon fill="#181818" points="1937.5,1271.2266,1927.5,1275.2266,1937.5,1279.2266,1933.5,1275.2266" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1931.5" x2="2124" y1="1275.2266" y2="1275.2266"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1943.5" y="1270.3701">36</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="53" x="1961.5" y="1270.3701">response</text><polygon fill="#181818" points="1743.5,1301.5781,1733.5,1305.5781,1743.5,1309.5781,1739.5,1305.5781" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1737.5" x2="1920.5" y1="1305.5781" y2="1305.5781"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1749.5" y="1300.7217">37</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="53" x="1767.5" y="1300.7217">response</text><polygon fill="#181818" points="1254,1331.9297,1244,1335.9297,1254,1339.9297,1250,1335.9297" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1248" x2="1726.5" y1="1335.9297" y2="1335.9297"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1260" y="1331.0732">38</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="53" x="1278" y="1331.0732">response</text><polygon fill="#181818" points="1007,1362.2813,997,1366.2813,1007,1370.2813,1003,1366.2813" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1001" x2="1237" y1="1366.2813" y2="1366.2813"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1013" y="1361.4248">39</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="53" x="1031" y="1361.4248">response</text><polygon fill="#181818" points="458,1392.6328,448,1396.6328,458,1400.6328,454,1396.6328" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="452" x2="985" y1="1396.6328" y2="1396.6328"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="464" y="1391.7764">40</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="53" x="482" y="1391.7764">response</text><polygon fill="#181818" points="52,1429.9844,42,1433.9844,52,1437.9844,48,1433.9844" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="46" x2="441" y1="1433.9844" y2="1433.9844"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="58" y="1429.1279">41</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="152" x="76" y="1429.1279">informs operation success</text><!--MD5=[55f3ec65afc88f77a9bc1301d0892c06]
@startuml
autonumber
actor "Client" as SC
participant "//<<presentation>>//\nAddProductShoppingCartUI" as UI
participant "OrderManagerDaemon" as omd
participant "//<<application>>//\nListProductController" as cc1
participant "//<<application>>//\nAddProductShoppingCartController" as cc2



participant "AddProductShoppingCartController" as service
participant "OrderManagerTcpServer" as omServer


participant "//<<app>>//\nAppSettings" as app

participant "//<<thread>>//\nOrderManagerHandler" as thread
participant "//<<abstract>>//\nOrderManagerProtocolRequest" as request
participant "AddProductShoppingCart" as absImpl
participant "//<<Interface>>//\nShoppingCartController" as cInterface
participant "ShoppingCartControllerImpl" as cImpls

participant "//<<application>>//\nShoppingCartLine" as scl
database "//<<repository>>//\nProductRepository" as db
database "//<<repository>>//\nShoppingCartRepository" as db2
database "//<<repository>>//\nShoppingCartLineRepository" as db3


activate SC
omd->omServer: new

omd->omServer: start
activate omServer






SC -> UI : view/search in the product catalog
activate UI



UI- ->cc1: allProducts()

activate cc1

cc1- ->db: repositories()

activate db

db- ->app: instance()

activate app

db- ->app: getRepositoryFactory()

app- ->db: create

db- ->app

app- ->cc1

deactivate app

cc1- ->db: Products()

cc1- ->db: list = all()

db- ->cc1

deactivate db

cc1- ->UI: list

deactivate cc1




loop
UI - -> SC : asks if the client wants to add a product to his shopping cart

SC -> UI : type the requested data


UI- -> cc2: addProductShoppingCart(productReference, quantity)

activate cc2

cc2 -> service: addProductShoppingCartService

activate service

omServer->omServer: accept

service- ->omServer: request

omServer->thread:start
deactivate omServer
activate thread

thread -> request: execute
activate request

request->absImpl:execute
activate absImpl

absImpl->cInterface: addProductShoppingCart

activate cInterface

cInterface->cImpls: addProductShoppingCart

activate cImpls

cImpls- -> db: findByReference(productReference)

activate db

db- ->cImpls: product

deactivate db

cImpls- -> scl: newShoppingCartLine(product, q, product.Price())

cImpls - -> db3: save(newShoppingCartLine)

activate db3

deactivate db3

cImpls - -> cImpls: getShoppingCartUser()

cImpls - -> db2: findByVat(cvat.vat())

activate db2

db2 - -> cImpls: vat

cImpls - -> db2: save(shoppingCart)


deactivate db2


deactivate cImpls


deactivate cInterface

request->absImpl: buildResponse

absImpl->absImpl:buildResponse

absImpl- ->request:response

deactivate absImpl

request- ->thread: response
deactivate request
thread - ->service: response
deactivate thread

service- ->cc2 : response
deactivate service







cc2- ->UI : response

end
deactivate cc2
UI - -> SC : informs operation success
deactivate UI

deactivate SC
@enduml

PlantUML version 1.2022.4(Sat Apr 09 14:29:17 BST 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: Cp1252
Language: pt
Country: PT
--></g></svg>